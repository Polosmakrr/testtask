"use strict";(self.webpackChunktesttask=self.webpackChunktesttask||[]).push([[566],{8566:function(s,e,n){n.r(e),n.d(e,{default:function(){return o}});var t=n(2791),r=n(9434),c=n(9568),i=n(184),u=function(s){var e=s.users;return(0,i.jsx)(i.Fragment,{children:e.map((function(s){return(0,i.jsxs)("li",{className:"users_item",children:[(0,i.jsx)("div",{className:"users_img",children:(0,i.jsx)("img",{className:"users_img-item",src:s.photo,alt:s.name})}),(0,i.jsx)("h3",{className:"users_name",children:s.name}),(0,i.jsxs)("div",{className:"users_description",children:[(0,i.jsx)("p",{children:s.position}),(0,i.jsxs)("div",{className:"users_contacts",children:[(0,i.jsx)("a",{href:"mailto:".concat(s.email),children:s.email}),(0,i.jsx)("a",{href:"tel:".concat(s.phone),children:s.phone})]})]})]},s.id)}))})},o=function(){var s=(0,r.I0)(),e=(0,r.v9)((function(s){return s.data.users}));(0,t.useEffect)((function(){1!==e.page&&s((0,c.uh)(1))}),[]);return(0,i.jsxs)("section",{className:"users_container container",children:[(0,i.jsx)("h2",{className:"users_title",children:"Working with GET request"}),(0,i.jsx)("ul",{className:"users_list list",children:e.users.length&&(0,i.jsx)(u,{users:e.users})}),e.users.length&&(0,i.jsx)("button",{id:"showMore",className:"btn",onClick:function(){var n=e.page+1;s((0,c.uh)(n)),n===e.total_pages&&document.querySelector("#showMore").classList.add("hidden")},children:"Show more"})]})}},9568:function(s,e,n){n.d(e,{Av:function(){return m},uh:function(){return d},l1:function(){return p}});var t=n(6382),r=(0,t.PH)("fetchUsersRequest"),c=(0,t.PH)("fetchUsersSuccess"),i=(0,t.PH)("fetchUsersError"),u=(0,t.PH)("fetchPositionsRequest"),o=(0,t.PH)("fetchPositionsSuccess"),a=(0,t.PH)("fetchPositionsError"),h=(0,t.PH)("postUserRequest"),l=(0,t.PH)("postUserSuccess"),f=(0,t.PH)("postUserError"),d=function(s){return function(e){e(r()),window.AgencyAxios.get("/users?page=".concat(s,"&count=6")).then((function(s){var n=s.data;e(c(n))})).catch((function(s){return e(i(s))}))}},m=function(){return function(s){s(u()),window.AgencyAxios.get("/positions").then((function(e){var n=e.data;s(o(n))})).catch((function(e){return s(a(e))}))}},p=function(s,e){return function(n){n(h()),window.AgencyAxios.post("/users",s,{headers:{Token:e}}).then((function(s){n(l(s))})).catch((function(s){n(f(s))}))}}}}]);
//# sourceMappingURL=566.1ba6a357.chunk.js.map